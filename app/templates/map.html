<!--
Will Nzeuton, Andy Shyklo, Kyle Lee, Margie Cao
JOY ACROSS BORDERS 🔥🔥😵‍💫 by madeinguatemala
SoftDev
p04
2025-04-02
-->

<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="static/css/style.css">
        <title>Map</title>
    </head>
    <body>
        <div id="nav"></div>
        <h1><b>JOY ACROSS BORDERS 🔥🔥😵‍💫<b></h1>

        {% if error %}
        <h2>{{error}}</h2>
        {% endif %}

         <section style="margin: auto 50px">
        <div class="input-group" id="">
            <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" id="search-input"/>
            <button type="button" class="btn btn-outline-primary" data-mdb-ripple-init>search</button>
        </div>
        <ul id="suggestions-list"></ul>
    </section>

    <div class="mapcontainer">
        <div class="map">
            <span>Alternative content for the map</span>
        </div>
        <div class="areaLegend"></div>
        <div class="plotLegend"></div>
    </div>

<div class="map-legend">
  <h4>Legend</h4>
  The map is color coded by the most recent level of hapiness for the country with green being the best and red being the worst. If a country is grayed out, it means that there is no data for that country.
</div>
	


    <script src="static/js/search.js"></script>
    <script src="static/js/main.js"></script>

    <!-- Load jQuery, Popper, Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mapael/2.1.0/js/jquery.mapael.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="https://rawgit.com/neveldo/jQuery-Mapael/master/js/maps/world_countries_mercator.js" charset="utf-8"></script>

    <!-- Shoutout GPT for writing the countryNames and Area variables and Mapael for the example (now within mongo.py)-->
    <script>

        $(function () {
            $(".mapcontainer").mapael({
                map: {
                    name: "world_countries_mercator",
                    defaultArea: {
                        eventHandlers: {
                            click: function (e, id, mapElem, textElem) {

                            }
                        }
                    }
                },
                areas: {{ areas|tojson|safe }}
            });
        });
    </script>
</body>
</html>
